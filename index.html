<!-- 

TODOS:

Schöner machen
Spielerliste 
Wer gewonnen hat nachher ausgeben 

-->


<html>
  <head>
    <title>Catch</title>
    <style>
      canvas {
        width: 650px;
        height: 650px;
        border: 4px solid grey;
        display: none;
      }
    </style>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  </head>


  <body>

    <div class="w3-content w3-container w3-padding-32">

    <form style="display: none;" id="endscreen">
      <input value="Nochmal spielen?" type="text" onclick="window.location.reload()" class="w3-bar-item w3-button w3-xlarge fa fa-home w3-text-red"></input>
    </form>





    <div class="w3-left w3-container w3-content">
      <canvas  style="display: none;" id="canvas"></canvas>
    </div>


    <div id="list" class="w3-right w3-container w3-content">

    </div>





    <form class="w3-center w3-border" id="homescreen">
      <h1>Catch!</h1><hr> <br><br><br>
      <label for="username">Spielername:</label>
      <input id="username" type="text" placeholder="Bitte Namen eingeben" autofocus required/><br> <br><br>
      <label for="color">Wählen Sie bitte eine Farbe aus:</label>
      <input id="color" type="color" value="#0000ff" required/><br> <br>
      <br> <br> <input id="lobby" type="button" onclick="setInvisible()" value="Spiel starten"/>
      <br><br><br>
    </form>

    </div>

    <script>
      //sets the homescreen invisible and starts the game
        function setInvisible(){
          document.getElementById("homescreen").style.display="none";
          document.getElementById("canvas").style.display="block";
          document.getElementById("endscreen").style.display="none";
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = 'static/game.js';
          document.body.appendChild(script);
        };

        function setVisible(){
          document.getElementById("canvas").style.display="none";
          document.getElementById("endscreen").style.display="block";
          document.getElementById("list").style.display="none";
        }


        var namelist = [];
        function list(players){


          for (var id in players){

            if ($.inArray(players[id].eingegName, namelist) === -1){
              namelist.push(players[id].eingegName);
            }

          }

          $("#list").empty();
          $("#list").append(namelist);

        }

      </script>

  </body>



</html>
